<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="~{fragments/header :: headFragment}">
    </th:block>
    <meta charset="UTF-8">
    <title>The long term challenge</title>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular.min.js"></script>
</head>
<body ng-app="myapp" ng-controller="myctrl">

<div align="center">

    <h1>Welcome to the long term challenge home page</h1>
    <h2>There you can choose what base you want to learn</h2>


    <input type="number" id="myInput" name="myInput" ng-model="tryings" onchange="countOfTryings(this)">
<!--    onkeyup-->

    <table border="1" cellpadding="5">
        <thead>
        <th>File Name</th>
        <th>Read This file</th>
        </thead>
        <tbody>
        <tr th:if="${filenames.isEmpty()}">
            <td colspan="2"> There no txt files</td>
        </tr>

        <tr ng-repeat="file in coll">
            <td><span>{{file}}</span></td>
            <td>
                <a name="toChallenge" href="/long_term_realization?lowtfile={{file}}&countTr={{tryings}}">
                    Challenge file
                </a>

            </td>
        </tr>

<!--        <tr th:each="file : ${filenames}">-->
<!--            <td><span th:text="${file}">FileNameThere</span></td>-->
<!--            <td>-->
<!--                <a name="toChallenge"-->
<!--                   th:href="@{${T(com.learnenglish.vocabulary.util.MyMappings).LONG_TERM_REALIZATION}(lowtfile=${file},countTr=1)}">-->
<!--                    Challenge file-->
<!--                </a>-->
<!--            </td>-->
<!--        </tr>-->


        </tbody>
    </table>

    <script th:inline="javascript">
        var app = angular.module('myapp', []);
        app.controller('myctrl', function ($scope) {
            $scope.tryings = 1;
            $scope.coll = [[${filenames}]];
        });

    </script>
</div>

<div th:replace="~{fragments/header :: bodyNesetd}"></div>
</body>
</html>